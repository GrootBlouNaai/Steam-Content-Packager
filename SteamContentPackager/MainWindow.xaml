<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="SteamContentPackager.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:SteamContentPackager" xmlns:controls="clr-namespace:SteamContentPackager.UI.Controls" xmlns:wpfApplication1="clr-namespace:SteamContentPackager" Background="{StaticResource BackgroundBrush}" Title="MainWindow" Height="{local:SettingBinding Height}" Width="{local:SettingBinding Width}" Left="{local:SettingBinding Left}" Top="{local:SettingBinding Top}" WindowState="{local:SettingBinding WindowState}">
  <Grid>
    <Grid Name="MainGrid" IsEnabled="False">
      <Grid.RowDefinitions>
        <RowDefinition Height="3*" />
        <RowDefinition />
      </Grid.RowDefinitions>
      <TabControl>
        <TabItem Header="Apps">
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition />
              <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>
            <DockPanel>
              <Button DockPanel.Dock="Bottom" HorizontalAlignment="Center" Content="Add To Queue" Margin="5,0,5,5" Command="{Binding AddTaskCommand, ElementName=TaskQueue}" CommandParameter="{Binding AppConfig, ElementName=AppConfig}" />
              <controls:AppList x:Name="AppList" DockPanel.Dock="Bottom" />
            </DockPanel>
            <TabControl Grid.Column="1">
              <TabItem Header="App Config">
                <controls:AppConfigView x:Name="AppConfig" App="{Binding SelectedApp, ElementName=AppList}" />
              </TabItem>
              <TabItem Header="BBCode Generator">
                <controls:BBCodeView App="{Binding SelectedApp, ElementName=AppList}" />
              </TabItem>
              <TabItem Header="AppInfo">
                <controls:AppInfoView App="{Binding SelectedApp, ElementName=AppList}" />
              </TabItem>
            </TabControl>
          </Grid>
        </TabItem>
        <TabItem Header="Tasks">
          <controls:TaskQueueView x:Name="TaskQueue" />
        </TabItem>
        <TabItem Header="Settings">
          <controls:SettingView />
        </TabItem>
        <TabItem Header="Test">
          <TextBlock Text="TEST">
            <FrameworkElement.ContextMenu>
              <ContextMenu>
                <MenuItem Header="Test" />
              </ContextMenu>
            </FrameworkElement.ContextMenu>
          </TextBlock>
        </TabItem>
      </TabControl>
      <ListBox Name="LogBox" Grid.Row="1" Grid.Column="0" Style="{StaticResource AppListStyle}" ItemContainerStyle="{StaticResource LogBoxItemStyle}" />
    </Grid>
    <controls:LoginPanel />
  </Grid>
</Window>